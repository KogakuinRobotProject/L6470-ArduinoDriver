#ifndef _L6470_dfs_H_
#define _L6470_dfs_H_

#define	L6470_COMMAND_NOP				(byte)(0x00)
#define L6470_COMMAND_SETPARAM(x)		(byte)(0x00 | x)
#define L6470_COMMAND_GETPARAM(x)		(byte)(0x20 | x)
#define L6470_COMMAND_RUN(dir)			(byte)(0x50 | dir)
#define L6470_COMMAND_STEPCLOCK(dir)	(byte)(0x58 | dir)
#define L6470_COMMAND_MOVE(dir)			(byte)(0x40 | dir)
#define L6470_COMMAND_GOTO				(byte)(0x60)
#define L6470_COMMAND_GOTO_DIR(dir)		(byte)(0x68 | dir)
#define L6470_COMMAND_GOUNTIL(act,dir)	(byte)(0x82 | (act << 3) | dir)
#define L6470_COMMAND_RELESESW(act,dir)	(byte)(0x92 | (act << 3) | dir)
#define L6470_COMMAND_GOHOME			(byte)(0x70)
#define L6470_COMMAND_GOMARK			(byte)(0x78)
#define L6470_COMMAND_RESETPOS			(byte)(0xd8)
#define L6470_COMMAND_RESETDEVICE		(byte)(0xc0)
#define L6470_COMMAND_SOFTSTOP			(byte)(0xb0)
#define L6470_COMMAND_HARDSTOP			(byte)(0xb8)
#define L6470_COMMAND_SOFTHIZ			(byte)(0xa0)
#define L6470_COMMAND_HARDHIZ			(byte)(0xa8)
#define L6470_COMMAND_GETSTATUS			(byte)(0xd0)

#define L6470_STATUS_MASK_SCK_MOD		(0x8000)
#define L6470_STATUS_MASK_STEP_LOSS_B	(0x4000)
#define L6470_STATUS_MASK_STEP_LOSS_A	(0x2000)
#define L6470_STATUS_MASK_OCD			(0x1000)
#define L6470_STATUS_MASK_TH_SD			(0x0800)
#define L6470_STATUS_MASK_TH_WRN		(0x0400)
#define L6470_STATUS_MASK_UVLO			(0x0200)
#define L6470_STATUS_MASK_WRONG_CMD		(0x0100)
#define L6470_STATUS_MASK_NOTPERF_CMD	(0x0080)
#define L6470_STATUS_MASK_MOT_STATUS	(0x0060)
#define L6470_STATUS_MASK_DIR			(0x0010)
#define L6470_STATUS_MASK_SW_EVN		(0x0008)
#define L6470_STATUS_MASK_SW_F			(0x0004)
#define L6470_STATUS_MASK_BUSY			(0x0002)
#define L6470_STATUS_MASK_HIZ			(0x0001)

#define L6470_STATUS_ERROR_MASK			(L6470_STATUS_MASK_TH_SD | L6470_STATUS_MASK_OCD | L6470_STATUS_MASK_STEP_LOSS_A | L6470_STATUS_MASK_STEP_LOSS_B)

#define L6470_DEFAULT_ACC				0x08A
#define L6470_DEFAULT_DEC				0x08A
#define L6470_DEFAULT_MAX_SPEED			0x041
#define L6470_DEFAULT_MIN_SPEED			0x000
#define L6470_DEFAULT_KVAL_HOLD			0x29
#define L6470_DEFAULT_KVAL_RUN			0x29
#define L6470_DEFAULT_KVAL_ACC			0x29
#define L6470_DEFAULT_KVAL_DEC			0x29

typedef enum{
	ABS_POS = 0x01,
	EL_POS,
	MARK,
	SPEED,
	ACC,
	_DEC,			//–¼‘O‹£‡‰ñ”ð‚Ì‚½‚ß_
	MAX_SPEED,
	MIN_SPEED,
	KVAL_HOLD,
	KVAL_RUN,
	KVAL_ACC,
	KVAL_DEC,
	INT_SPEED,
	ST_SLP,
	FN_SLP_ACC,
	FN_SLP_DEC,
	K_THERM,
	ADC_OUT,
	OCD_TH,
	STALL_TH,
	FS_SPD,
	STEP_MODE,
	ALARM_EN,
	CONFIG,
	STATUS,
}L6470_REG;

typedef enum{
	L6470_OK,
};

#endif